{% extends 'library_app/base.html' %}
{% block content %}

<style>
/* Page header */
.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.page-title {
    font-weight: 600;
    color: #2c3e50;
    letter-spacing: 0.3px;
}

/* Card */
.members-card {
    border-radius: 16px;
    border: none;
    box-shadow: 0 12px 35px rgba(0,0,0,0.08);
}

/* Table */
.table {
    margin-bottom: 0;
}

.table thead th {
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 0.4px;
}

.table tbody td {
    vertical-align: middle;
    font-size: 15px;
}

/* Issued count */
.issued-count {
    font-weight: 600;
}

/* View button */
.btn-primary {
    border-radius: 8px;
    padding: 4px 12px;
    font-size: 13px;
}
</style>

<div class="mb-4 page-header">
    <h3 class="page-title">Members List</h3>
    <a href="{% url 'add_member' %}" class="btn btn-sm btn-success">
        + Add Member
    </a>
</div>

<div class="card p-3 members-card">

    {% if members %}
    <table class="table table-striped align-middle">
        <thead class="table-dark">
            <tr>
                <th>Card Number</th>
                <th>Name</th>
                <th>Issued Books</th>
                <th style="width: 120px;">Actions</th>
            </tr>
        </thead>

        <tbody>
        {% for m in members %}
            <tr>
                <td>{{ m.card_number }}</td>
                <td>{{ m.full_name }}</td>
                <td class="issued-count">{{ m.active_count }}</td>
                <td>
                    <a 
                      href="{% url 'search_card' %}?card={{ m.card_number }}" 
                      class="btn btn-primary btn-sm">
                        View
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% else %}
    <p class="text-muted mb-0">No members added yet.</p>
    {% endif %}

</div>

{% endblock %}
